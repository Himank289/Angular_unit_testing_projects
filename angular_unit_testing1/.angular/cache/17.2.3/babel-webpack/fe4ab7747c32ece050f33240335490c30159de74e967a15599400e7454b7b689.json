{"ast":null,"code":"//https://angular.io/guide/testing-components-basics\nimport { TestBed } from \"@angular/core/testing\";\nimport { WelcomeComponent } from \"./welcome.component\";\n// import { UserService } from \"../../model/user.service\";\nclass MockUserService {\n  constructor() {\n    this.isLoggedIn = true;\n    this.user = {\n      name: 'Test User'\n    };\n  }\n}\nlet comp = undefined;\nlet userService = undefined;\nbeforeEach(() => {\n  TestBed.configureTestingModule({\n    // provide the component-under-test and dependent service\n    providers: [WelcomeComponent, {\n      provide: UserService,\n      useClass: MockUserService\n    }]\n  });\n  // inject both the component and the dependent service.\n  comp = TestBed.inject(WelcomeComponent);\n  userService = TestBed.inject(UserService);\n});\nit('should not have welcome message after construction', () => {\n  if (comp) expect(comp.welcome).toBe('');\n});\nit('should welcome logged in user after Angular calls ngOnInit', () => {\n  if (comp && userService) {\n    comp.ngOnInit();\n    expect(comp.welcome).toContain(userService.user.name);\n  }\n});\nit('should ask user to log in if not logged in after ngOnInit', () => {\n  if (comp && userService) {\n    userService.isLoggedIn = false;\n    comp.ngOnInit();\n    expect(comp.welcome).not.toContain(userService.user.name);\n    expect(comp.welcome).toContain('log in');\n  }\n});","map":{"version":3,"names":["TestBed","WelcomeComponent","MockUserService","constructor","isLoggedIn","user","name","comp","undefined","userService","beforeEach","configureTestingModule","providers","provide","UserService","useClass","inject","it","expect","welcome","toBe","ngOnInit","toContain","not"],"sources":["F:\\angular_examples\\angular_unit_testing\\src\\app\\components\\Welcome\\welcome.component.spec.ts"],"sourcesContent":["//https://angular.io/guide/testing-components-basics\r\n \r\nimport { TestBed } from \"@angular/core/testing\";\r\nimport { WelcomeComponent } from \"./welcome.component\";\r\n// import { UserService } from \"../../model/user.service\";\r\n  \r\nclass MockUserService {\r\n    isLoggedIn = true;\r\n    user = { name: 'Test User' };\r\n  }\r\n \r\n  let comp: WelcomeComponent | undefined = undefined;\r\n let userService: UserService | undefined = undefined;\r\n \r\n  beforeEach(() => {\r\n    TestBed.configureTestingModule({\r\n      // provide the component-under-test and dependent service\r\n      providers: [WelcomeComponent, { provide: UserService, useClass: MockUserService }],\r\n    });\r\n    // inject both the component and the dependent service.\r\n     comp = TestBed.inject(WelcomeComponent);\r\n     userService = TestBed.inject(UserService);\r\n  });\r\n \r\n  it('should not have welcome message after construction', () => {\r\n    if(comp)\r\n       expect(comp.welcome).toBe('');\r\n  });\r\n \r\n  it('should welcome logged in user after Angular calls ngOnInit', () => {\r\n    if(comp && userService)\r\n    {\r\n    comp.ngOnInit();\r\n    expect(comp.welcome).toContain(userService.user.name);\r\n    }\r\n  });\r\n \r\n  it('should ask user to log in if not logged in after ngOnInit', () => {\r\n    if(comp && userService)\r\n    {\r\n    userService.isLoggedIn = false;\r\n    comp.ngOnInit();\r\n    expect(comp.welcome).not.toContain(userService.user.name);\r\n    expect(comp.welcome).toContain('log in');\r\n    }\r\n  });"],"mappings":"AAAA;AAEA,SAASA,OAAO,QAAQ,uBAAuB;AAC/C,SAASC,gBAAgB,QAAQ,qBAAqB;AACtD;AAEA,MAAMC,eAAe;EAArBC,YAAA;IACI,KAAAC,UAAU,GAAG,IAAI;IACjB,KAAAC,IAAI,GAAG;MAAEC,IAAI,EAAE;IAAW,CAAE;EAC9B;;AAEA,IAAIC,IAAI,GAAiCC,SAAS;AACnD,IAAIC,WAAW,GAA4BD,SAAS;AAEnDE,UAAU,CAAC,MAAK;EACdV,OAAO,CAACW,sBAAsB,CAAC;IAC7B;IACAC,SAAS,EAAE,CAACX,gBAAgB,EAAE;MAAEY,OAAO,EAAEC,WAAW;MAAEC,QAAQ,EAAEb;IAAe,CAAE;GAClF,CAAC;EACF;EACCK,IAAI,GAAGP,OAAO,CAACgB,MAAM,CAACf,gBAAgB,CAAC;EACvCQ,WAAW,GAAGT,OAAO,CAACgB,MAAM,CAACF,WAAW,CAAC;AAC5C,CAAC,CAAC;AAEFG,EAAE,CAAC,oDAAoD,EAAE,MAAK;EAC5D,IAAGV,IAAI,EACJW,MAAM,CAACX,IAAI,CAACY,OAAO,CAAC,CAACC,IAAI,CAAC,EAAE,CAAC;AAClC,CAAC,CAAC;AAEFH,EAAE,CAAC,4DAA4D,EAAE,MAAK;EACpE,IAAGV,IAAI,IAAIE,WAAW,EACtB;IACAF,IAAI,CAACc,QAAQ,EAAE;IACfH,MAAM,CAACX,IAAI,CAACY,OAAO,CAAC,CAACG,SAAS,CAACb,WAAW,CAACJ,IAAI,CAACC,IAAI,CAAC;EACrD;AACF,CAAC,CAAC;AAEFW,EAAE,CAAC,2DAA2D,EAAE,MAAK;EACnE,IAAGV,IAAI,IAAIE,WAAW,EACtB;IACAA,WAAW,CAACL,UAAU,GAAG,KAAK;IAC9BG,IAAI,CAACc,QAAQ,EAAE;IACfH,MAAM,CAACX,IAAI,CAACY,OAAO,CAAC,CAACI,GAAG,CAACD,SAAS,CAACb,WAAW,CAACJ,IAAI,CAACC,IAAI,CAAC;IACzDY,MAAM,CAACX,IAAI,CAACY,OAAO,CAAC,CAACG,SAAS,CAAC,QAAQ,CAAC;EACxC;AACF,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}